<div ng-if="!sc.initError" class="row">
  <div class="col-md-offset-3 col-md-6">
    <form class="form-horizontal" novalidate>
      <div align="center" class="form-group">
        <h2>{{sc.survey.name}}</h2>
        <h3>{{sc.survey.description}}</h3>
      </div>

      <hr>

      <div ng-repeat="question in sc.survey.questions track by $index">
        <div class="form-group">
          <label for="question{{$index + 1}}">{{$index + 1}}. {{question.content}}</label>
          <div class="radio" ng-repeat="answer in question.answers track by $index">
            <label>
              <input type="radio" name="question{{$parent.$index + 1}}answer{{$index + 1}}" id="question{{$parent.$index + 1}}answer{{$index + 1}}" ng-value="answer" ng-model="sc.surveyResult.results[$parent.$index].answerId">
              {{answer.content}}
            </label>
          </div>
        </div>

        <hr ng-if="!$last">
      </div> 

      <div id="captcha-survey" align="center" class="form-group"></div>

      <div class="alert alert-danger alert-dismissible" role="alert" ng-if="sc.error">
        <button type="button" class="close" data-dismiss="alert" aria-label="Close" ng-click="sc.error = ''"><span aria-hidden="true">&times;</span></button>
        <strong>Error:</strong> {{sc.error}}
      </div>

      <hr>

      <div align="center" class="form-group">
        <button type="submit" class="btn btn-default btn-success" ng-click="sc.submitSurvey()">Submit <span class="glyphicon glyphicon-check"></span></button>
      </div>
    </form>
  </div>
</div>

<div class="alert alert-danger alert-dismissible" role="alert" ng-if="sc.initError">
  <strong>Error:</strong> {{sc.error}} <a href="#/" class="alert-link">Go to Tech9 Survey</a>
</div>